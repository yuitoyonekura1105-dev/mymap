* { box-sizing: border-box; }
body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    overflow: hidden;
    background: #f7f9f9;
    color: #0f1419;
}

#map { position: absolute; top: 0; bottom: 0; width: 100%; z-index: 0; }

/* --- PCレイアウト --- */
#ui-container {
    position: absolute; top: 10px; right: 10px; width: 350px;
    max-height: 95vh; z-index: 10; display: flex; flex-direction: column; gap: 12px;
}

#post-form-container, #list-container {
    background: white; padding: 18px; border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%;
}

/* --- スマホ共通パーツ --- */
.mobile-handle { display: none; } /* デフォルト非表示 */

/* --- 投稿・リスト共通 --- */
#show-form-btn { 
    background: #1d9bf0; color: white; border: none; padding: 14px; 
    border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 16px;
    box-shadow: 0 4px 12px rgba(29, 155, 240, 0.3);
}

.tab-container { display: flex; margin-bottom: 15px; border-bottom: 1px solid #eff3f4; }
.tab-btn {
    flex: 1; padding: 12px; background: none; border: none;
    cursor: pointer; font-weight: bold; color: #536471; position: relative;
}
.tab-btn.active { color: #1d9bf0; }
.tab-btn.active::after {
    content: ""; position: absolute; bottom: 0; left: 20%; width: 60%; height: 3px;
    background: #1d9bf0; border-radius: 3px;
}

input, select, textarea { 
    width: 100%; margin-bottom: 12px; padding: 12px; 
    border-radius: 8px; border: 1px solid #cfd9de; font-size: 16px; 
}
#submit-btn { 
    width: 100%; background: #1d9bf0; color: white; border: none; 
    padding: 14px; border-radius: 28px; font-weight: bold; cursor: pointer; 
}
#submit-btn:disabled { background: #8ecdf8; }

.spot-list-item { 
    border-bottom: 1px solid #eff3f4; padding: 15px 5px; 
    animation: fadeInUp 0.4s ease forwards;
}
.card-actions { display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
.action-btn { 
    background: #f0f3f4; border: none; padding: 6px 12px; 
    border-radius: 15px; font-size: 12px; color: #0f1419; text-decoration: none;
}

/* --- 詳細パネル --- */
#spot-detail-panel {
    position: absolute; top: 20px; left: 20px; width: 300px;
    background: white; z-index: 100; padding: 20px; border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

/* --- スマホ専用設定 (768px以下) --- */
@media (max-width: 768px) {
    #ui-container {
        top: auto; right: 0; bottom: 0; left: 0; width: 100%;
        max-height: 70vh; gap: 0; z-index: 10;
    }

    #post-form-container, #list-container {
        border-radius: 20px 20px 0 0;
        padding: 20px;
        max-height: 70vh;
        overflow-y: auto;
    }

    .mobile-handle {
        display: block; width: 40px; height: 5px; background: #ccd6dd;
        border-radius: 10px; margin: -10px auto 15px auto;
    }

    #show-form-btn {
        position: fixed; bottom: 20px; right: 20px; width: auto;
        padding: 15px 20px; border-radius: 30px; z-index: 11;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }

    #spot-detail-panel {
        top: auto; left: 0; bottom: 0; width: 100%;
        border-radius: 20px 20px 0 0; padding-top: 15px;
    }
    
    .close-detail { position: absolute; right: 15px; top: 15px; border: none; background: #f0f3f4; border-radius: 50%; width: 30px; height: 30px; }
    
    #spot-list-items { max-height: 50vh; }
}

/* --- アニメーション --- */
#splash-screen {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background-color: #e9967a; display: flex; justify-content: center;
    align-items: center; z-index: 99999; transition: opacity 0.8s;
}
.splash-title { color: white; font-size: 1.5rem; animation: splash-pulse 1.5s infinite; }
@keyframes splash-pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } }
.fade-out { opacity: 0; visibility: hidden; }

@keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
